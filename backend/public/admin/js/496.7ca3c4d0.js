"use strict";(self["webpackChunksherlock_godjango_admin_ui"]=self["webpackChunksherlock_godjango_admin_ui"]||[]).push([[496],{1496:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var l=n(9835),a=n(499),o=n(33),u=n(5304),i=n(3890),c=n(1957),r=function(e,t,n,l){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function u(e){try{c(l.next(e))}catch(t){o(t)}}function i(e){try{c(l["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):a(e.value).then(u,i)}c((l=l.apply(e,t||[])).next())}))};const d=(0,l.aZ)({props:{agent:null},emits:["complete","cancel"],setup(e,{emit:t}){const n=e,i=(0,u.Ey)(u.TM),d=(0,a.iH)({agent_id:0,details:"",status:"onprogress",type:"info"});function s(){return r(this,void 0,void 0,(function*(){o.j7.loading();try{yield i.create(d.value),t("complete")}catch(e){o.j7.axiosError(e)}o.j7.loading(!1)}))}return(0,l.wF)((()=>{d.value.agent_id=n.agent.id})),(e,n)=>{const a=(0,l.up)("q-select"),o=(0,l.up)("q-input"),u=(0,l.up)("q-card-section"),i=(0,l.up)("q-btn"),r=(0,l.up)("q-card-actions"),m=(0,l.up)("q-form"),p=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onSubmit:(0,c.iM)(s,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"q-gutter-y-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{modelValue:d.value.type,"onUpdate:modelValue":n[0]||(n[0]=e=>d.value.type=e),options:[{label:"Informativo",value:"info"},{label:"Problema Medio",value:"warning"},{label:"Problema Grave",value:"danger"}],label:"Tipo de Reporte","emit-value":"","map-options":""},null,8,["modelValue"]),(0,l.Wm)(o,{modelValue:d.value.details,"onUpdate:modelValue":n[1]||(n[1]=e=>d.value.details=e),style:{"min-height":"10rem"},type:"textarea",label:"Detalles",required:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"primary",outline:"",icon:"mdi-cancel",label:"Cancelar",onClick:n[2]||(n[2]=e=>t("cancel"))}),(0,l.Wm)(i,{color:"primary",icon:"mdi-check",label:"Guardar",type:"submit"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})}}});var s=n(4458),m=n(8326),p=n(3190),v=n(215),f=n(6611),g=n(1821),w=n(4455),y=n(9984),h=n.n(y);const _=d,b=_;h()(d,"components",{QCard:s.Z,QForm:m.Z,QCardSection:p.Z,QSelect:v.Z,QInput:f.Z,QCardActions:g.Z,QBtn:w.Z});var q=function(e,t,n,l){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function u(e){try{c(l.next(e))}catch(t){o(t)}}function i(e){try{c(l["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):a(e.value).then(u,i)}c((l=l.apply(e,t||[])).next())}))};const Z=(0,l._)("div",{class:"text-h6 text-center"},"Reportes",-1),W={class:"text-subtitle2"},k={class:"row q-col-gutter-sm"},C=(0,l.aZ)({setup(e){const t=(0,u.Ey)(u.cH),n=(0,u.Ey)(u.TM),c=(0,l.Fl)((()=>t.agent)),r=(0,a.iH)(!1),d=(0,l.Fl)((()=>n.events));function s(){return q(this,void 0,void 0,(function*(){try{yield n.mine()}catch(e){o.j7.axiosError(e)}}))}return(0,l.wF)((()=>q(this,void 0,void 0,(function*(){yield s()})))),(e,t)=>{const n=(0,l.up)("q-btn"),o=(0,l.up)("q-card-section"),u=(0,l.up)("q-card"),s=(0,l.up)("q-dialog"),m=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(m,{padding:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[Z,(0,l._)("div",W,[(0,l.Wm)(n,{color:"primary",class:"full-width",icon:"mdi-plus",label:"Nuevo Reporte",onClick:t[0]||(t[0]=e=>r.value=!0)})])])),_:1}),(0,a.SU)(d).length?((0,l.wg)(),(0,l.j4)(o,{key:0},{default:(0,l.w5)((()=>[(0,l._)("div",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,a.SU)(d),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"col-xs-12 col-sm-6 col-md-4 col-lg-3",key:`event-widget-${e.id}-${t}`},[(0,l.Wm)(i.Z,{event:e,editable:""},null,8,["event"])])))),128))])])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(s,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{agent:(0,a.SU)(c),style:{"min-width":"20rem"},onCancel:t[1]||(t[1]=e=>r.value=!1),onComplete:t[2]||(t[2]=e=>r.value=!1)},null,8,["agent"])])),_:1},8,["modelValue"])])),_:1})}}});var Q=n(9885),x=n(2074);const j=C,V=j;h()(C,"components",{QPage:Q.Z,QCard:s.Z,QCardSection:p.Z,QBtn:w.Z,QDialog:x.Z})}}]);