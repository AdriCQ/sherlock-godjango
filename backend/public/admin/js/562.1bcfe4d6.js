"use strict";(self["webpackChunksherlock_godjango_admin_ui"]=self["webpackChunksherlock_godjango_admin_ui"]||[]).push([[562],{6562:(e,l,t)=>{t.r(l),t.d(l,{default:()=>A});var n=t(9835),a=t(7256),o=t(499),u=t(6970);const i={class:"text-h6"},c={class:"text-subtitle2"},d={class:"text-subtitle2"},s={class:"text-subtitle2"},r={class:"text-subtitle2"},m=(0,n.aZ)({props:{client:null},setup(e){const l=e;return(e,t)=>{const a=(0,n.up)("q-icon"),o=(0,n.up)("q-card-section"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>{var e;return[(0,n._)("div",i,(0,u.zw)(l.client.name),1),(0,n._)("div",c,(0,u.zw)(l.client.description),1),(null===(e=l.client.users)||void 0===e?void 0:e.length)?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("div",d,[(0,n.Wm)(a,{name:"mdi-account",class:"q-mr-sm"}),(0,n.Uk)((0,u.zw)(l.client.users[0].name),1)]),(0,n._)("div",s,[(0,n.Wm)(a,{name:"mdi-email",class:"q-mr-sm"}),(0,n.Uk)((0,u.zw)(l.client.users[0].email),1)]),(0,n._)("div",r,[(0,n.Wm)(a,{name:"mdi-phone",class:"q-mr-sm"}),(0,n.Uk)((0,u.zw)(l.client.users[0].phone),1)])],64)):(0,n.kq)("",!0)]})),_:1})])),_:1})}}});var p=t(4458),v=t(3190),w=t(2857),f=t(9984),h=t.n(f);const y=m,_=y;h()(m,"components",{QCard:p.Z,QCardSection:v.Z,QIcon:w.Z});var b=t(1957),g=t(33),q=function(e,l,t,n){function a(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,o){function u(e){try{c(n.next(e))}catch(l){o(l)}}function i(e){try{c(n["throw"](e))}catch(l){o(l)}}function c(e){e.done?t(e.value):a(e.value).then(u,i)}c((n=n.apply(e,l||[])).next())}))};const V=(0,n._)("div",{class:"text-body1"},"Datos del Cliente",-1),W=(0,n._)("div",{class:"text-body1"},"Datos del Manager",-1),k=(0,n.aZ)({props:{client:null},emits:["completed","cancel"],setup(e,{emit:l}){const t=e,u=(0,o.iH)({description:"",name:""}),i=(0,o.iH)({email:"",name:"",phone:"",role_id:0,password:"",password_confirmation:""});function c(){return q(this,void 0,void 0,(function*(){g.j7.loading();try{let e;t.client?e=(yield a.$api.patch(`clients/${t.client.id}`,u.value)).data:(i.value&&(u.value.user=i.value),e=(yield a.$api.post("clients",u.value)).data),l("completed",e.data)}catch(e){g.j7.axiosError(e)}g.j7.loading(!1)}))}return(0,n.wF)((()=>{t.client&&(u.value={description:t.client.description,name:t.client.name},i.value=void 0)})),(e,t)=>{const a=(0,n.up)("q-input"),o=(0,n.up)("q-card-section"),d=(0,n.up)("q-btn"),s=(0,n.up)("q-card-actions"),r=(0,n.up)("q-form"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{onSubmit:(0,b.iM)(c,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{class:"q-gutter-y-sm"},{default:(0,n.w5)((()=>[V,(0,n.Wm)(a,{modelValue:u.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value.name=e),required:"",type:"text",label:"Nombre"},null,8,["modelValue"]),(0,n.Wm)(a,{modelValue:u.value.description,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value.description=e),required:"",type:"textarea",label:"Detalles"},null,8,["modelValue"])])),_:1}),i.value?((0,n.wg)(),(0,n.j4)(o,{key:0,class:"q-gutter-y-sm"},{default:(0,n.w5)((()=>[W,(0,n.Wm)(a,{modelValue:i.value.name,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value.name=e),type:"text",label:"Nombre"},null,8,["modelValue"]),(0,n.Wm)(a,{modelValue:i.value.email,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value.email=e),type:"email",label:"Email"},null,8,["modelValue"]),(0,n.Wm)(a,{modelValue:i.value.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>i.value.phone=e),type:"tel",label:"Telefono"},null,8,["modelValue"]),(0,n.Wm)(a,{modelValue:i.value.password,"onUpdate:modelValue":t[5]||(t[5]=e=>i.value.password=e),type:"password",label:"Password"},null,8,["modelValue"]),(0,n.Wm)(a,{modelValue:i.value.password_confirmation,"onUpdate:modelValue":t[6]||(t[6]=e=>i.value.password_confirmation=e),type:"password",label:"Repita Password"},null,8,["modelValue"])])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{color:"primary",outlined:"",label:"Cancelar",onClick:t[7]||(t[7]=e=>l("cancel"))}),(0,n.Wm)(d,{color:"primary",icon:"mdi-check",label:"Guardar",type:"submit"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})}}});var x=t(8326),C=t(6611),Z=t(1821),Q=t(4455);const U=k,j=U;h()(k,"components",{QCard:p.Z,QForm:x.Z,QCardSection:v.Z,QInput:C.Z,QCardActions:Z.Z,QBtn:Q.Z});var D=function(e,l,t,n){function a(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,o){function u(e){try{c(n.next(e))}catch(l){o(l)}}function i(e){try{c(n["throw"](e))}catch(l){o(l)}}function c(e){e.done?t(e.value):a(e.value).then(u,i)}c((n=n.apply(e,l||[])).next())}))};const H=(0,n._)("div",{class:"text-h6"},"AdministraciÃ³n de Clientes",-1),z={class:"text-subtitle2"},P={class:"row q-col-gutter-sm"},S=(0,n.aZ)({setup(e){const l=(0,o.iH)(),t=(0,o.iH)([]),u=(0,o.iH)(!1);function i(){c(),u.value=!0}function c(){l.value=void 0,u.value=!1}function d(e){l.value=e,u.value=!0}function s(){return D(this,void 0,void 0,(function*(){c(),yield r()}))}function r(){return D(this,void 0,void 0,(function*(){try{const e=yield a.$api.get("clients");t.value=e.data.data}catch(e){}}))}return(0,n.wF)((()=>D(this,void 0,void 0,(function*(){yield r()})))),(e,a)=>{const o=(0,n.up)("q-btn"),r=(0,n.up)("q-card-section"),m=(0,n.up)("q-card"),p=(0,n.up)("q-dialog"),v=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(v,{padding:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"no-box-shadow"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[H,(0,n._)("div",z,[(0,n.Wm)(o,{color:"primary",icon:"mdi-plus",label:"Nuevo",onClick:i})])])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n._)("div",P,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.value.slice(1,t.value.length),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-xs-12 col-sm-6 col-md-4 col-lg-3",key:`client-w-${e.id}`},[(0,n.Wm)(_,{class:"cursor-pointer",client:e,onClick:l=>d(e)},null,8,["client","onClick"])])))),128))])])),_:1})])),_:1}),(0,n.Wm)(p,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(j,{client:l.value,style:{width:"25rem"},onCancel:c,onCompleted:s},null,8,["client"])])),_:1},8,["modelValue"])])),_:1})}}});var $=t(9885),F=t(2074);const N=S,A=N;h()(S,"components",{QPage:$.Z,QCard:p.Z,QCardSection:v.Z,QBtn:Q.Z,QDialog:F.Z})}}]);